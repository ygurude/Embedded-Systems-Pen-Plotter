http://os.mbed.com/users/simon/code/Motor/#f265e441bcd92c52723a4c709bb868bf560dfa3d